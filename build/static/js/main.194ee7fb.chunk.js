(this["webpackJsonpreact-certification-2020"]=this["webpackJsonpreact-certification-2020"]||[]).push([[0],{60:function(e,t,a){e.exports=a(80)},69:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(25),l=a.n(c),s=a(28),i=Object(r.createContext)(),u=a(29),d=u.a.main(n||(n=Object(s.a)(["\n  width: 100%;\n  min-height: 100vh;\n  background-color: ",";\n"])),(function(e){return e.backgroundColor}));var m=function(e){var t=e.children,a=Object(r.useContext)(i).styles;return o.a.createElement(d,{backgroundColor:a.layout.backgroundColor},t)},f=a(3),p=(a(69),a(86)),h=a(87),v=a(56),b=a(90),g=a(88),E=a(13),y=a.n(E),O=a(21),j=a(89),w=a(57),C={id:"123",name:"Wizeline",avatarUrl:"https://media.glassdoor.com/sqll/868055/wizeline-squarelogo-1473976610815.png"};function x(e,t){return S.apply(this,arguments)}function S(){return(S=Object(O.a)(y.a.mark((function e(t,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){setTimeout((function(){return"wizeline"===t&&"Rocks!"===a?e(C):n(new Error("Username or password invalid"))}),500)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=function(e){var t=e.show,a=e.setShow,n=Object(r.useState)(""),c=Object(f.a)(n,2),l=c[0],s=c[1],u=Object(r.useState)(""),d=Object(f.a)(u,2),m=d[0],p=d[1],h=Object(r.useContext)(i).setSession,v=function(){a(!1)},g=function(){var e=Object(O.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,x(l,m);case 4:a=e.sent,h(a),s(""),p(""),v(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(j.a,{show:t,onHide:v},o.a.createElement(j.a.Header,{closeButton:!0},o.a.createElement(j.a.Title,null,"Login")),o.a.createElement(j.a.Body,null,o.a.createElement(b.a,null,o.a.createElement(b.a.Group,{controlId:"formUsername"},o.a.createElement(b.a.Label,null,"Username"),o.a.createElement(b.a.Control,{type:"text","data-testid":"login-input-username",placeholder:"username",value:l,onChange:function(e){return s(e.target.value)}})),o.a.createElement(b.a.Group,null,o.a.createElement(b.a.Label,null,"Password"),o.a.createElement(b.a.Control,{type:"password","data-testid":"login-input-password",placeholder:"password",value:m,onChange:function(e){return p(e.target.value)}})))),o.a.createElement(j.a.Footer,null,o.a.createElement(w.a,{variant:"secondary",onClick:v},"Close"),o.a.createElement(w.a,{variant:"primary",onClick:function(e){return g(e)}},"Submit")))},I=a(9);var R,T,L,P,F=function(){var e=Object(r.useState)(""),t=Object(f.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),l=Object(f.a)(c,2),s=l[0],u=l[1],d=Object(r.useState)(!1),m=Object(f.a)(d,2),E=m[0],y=m[1],O=Object(I.g)(),j=Object(r.useContext)(i),w=j.searchTerm,C=j.setSearchTerm,x=j.toggleStyles,S=j.userProps,R=j.isLogged,T=j.logout,L=function(e){O.push("/".concat(e))};return o.a.createElement("div",{className:"header"},o.a.createElement(p.a,{className:"form-search"},o.a.createElement(h.a,null,o.a.createElement(v.a,{xs:12,sm:6,md:6},o.a.createElement(b.a,{onSubmit:function(e){return function(e){e.preventDefault(),w!==a&&(C(a),L("home"))}(e)}},o.a.createElement(b.a.Group,{controlId:"formSearch"},o.a.createElement(b.a.Control,{type:"text","data-testid":"header-input-search",placeholder:"...",value:a,onChange:function(e){return function(e){n(e.target.value)}(e)}})))),o.a.createElement(v.a,{sm:5,md:5,className:"d-none d-sm-block d-xs-block switch-container"},o.a.createElement(b.a,null,o.a.createElement(b.a.Check,{type:"switch",id:"custom-switch","data-testid":"header-input-switch",label:"Toggle Style",checked:s,onChange:function(){u(!s),x(!s)},style:{float:"right"}}))),o.a.createElement(v.a,{sm:1,md:1,className:"d-none d-sm-block d-xs-block"},o.a.createElement(g.a,null,o.a.createElement(g.a.Toggle,{id:"dropdown-menu-login"},R?o.a.createElement("img",{src:S.avatarUrl,className:"user"}):o.a.createElement("i",{className:"fa fa-user-circle fa-2x user",style:{float:"right"}})),o.a.createElement(g.a.Menu,null,R?o.a.createElement(g.a.Item,{onClick:function(){L("favorites")}},"Favorites"):null,R?o.a.createElement(g.a.Item,{tag:"Link",onClick:function(e){!function(e){e.preventDefault(),T(),L("home")}(e)}},"Logout"):o.a.createElement(g.a.Item,{onClick:function(){return y(!E)}},"Login"))),o.a.createElement(k,{show:E,setShow:y,handleShow:function(){return y(!0)}})))))},U=u.a.div(R||(R=Object(s.a)(["\n  margin: auto;\n  padding: 2%;\n  font-size: 1.25rem;\n  font-family: 'Roboto', 'Helvetica', 'Arial', sans-serif;\n  font-weight: 300;\n  line-height: 1.6;\n  padding-bottom: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: ",";\n"])),(function(e){return e.fontColor||"#fff"})),N=u.a.div(T||(T=Object(s.a)(["\n  margin: auto;\n  padding: 2%;\n  width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 0.875rem;\n  font-family: 'Roboto', 'Helvetica', 'Arial', sans-serif;\n  font-weight: 200;\n  line-height: 1.6;\n  color: ",";\n"])),(function(e){return e.color||"gray"})),A=u.a.img(L||(L=Object(s.a)(["\n  max-height: 150px;\n  min-height: 150px;\n"]))),D=u.a.div(P||(P=Object(s.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  min-width: 0;\n  min-height: ",";\n  max-height: 350px;\n  margin: 5%;\n  word-wrap: break-word;\n  background-color: ",";\n  background-clip: border-box;\n  border: 1px solid rgba(0, 0, 0, 0.125);\n  border-radius: 0.25rem;\n  overflow: hidden;\n  box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;\n"])),(function(e){return e.height||"300px"}),(function(e){return e.elementBackground||"#fff"}));a(77);var B=function(e){var t=Object(I.g)(),a=function(a){e.privateRoute?t.push("/playFavorites?videoId=".concat(a.id.videoId)):t.push("/play?videoId=".concat(a.id.videoId))};return o.a.createElement(h.a,null,e.videos.map((function(t){return o.a.createElement(v.a,{key:t.id.videoId,xs:12,sm:6,md:4,lg:3,className:"card-container"},o.a.createElement(D,{onClick:function(){return function(e){a(e)}(t)},elementBackground:e.styles.customCard.backgroundColor},o.a.createElement(A,{src:t.snippet.thumbnails.medium.url,"data-testid":"header-component-thumbnail"}),o.a.createElement(U,{fontColor:e.styles.customCard.fontColor},t.snippet.title),o.a.createElement(N,null,t.snippet.description)))})))};var _=function(){var e=Object(r.useState)(!0),t=Object(f.a)(e,2),a=t[0],n=t[1],c=Object(r.useContext)(i),l=c.styles,s=c.videos,u=c.setVideos,d=c.searchTerm,m=c.userProps;return Object(r.useEffect)((function(){a&&n(!1)}),[a]),function(e,t){Object(r.useEffect)((function(){function a(){return(a=Object(O.a)(y.a.mark((function a(){var n,r,o,c;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n="https://youtube.googleapis.com/youtube/v3/search?part=snippet&maxResults=25&q=".concat(e,"&key=").concat("AIzaSyArEjSu5Db9QwV-KsEhaYuSHFFN9fB1RdA","&type=video"),a.next=3,fetch(n);case 3:return r=a.sent,a.next=6,r.json();case 6:o=a.sent,c=o.items,t(c);case 9:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}),[e])}(d,u),o.a.createElement(p.a,{style:{paddingBottom:"5%"}},o.a.createElement(v.a,{xs:12,sm:12,md:12},o.a.createElement(B,{videos:s,styles:l,privateRoute:!1,userId:m.id})))},V=a(1),H=function(e,t){switch(t.type){case"UPDATE_VIDEOS":return Object(V.a)(Object(V.a)({},e),{},{videos:t.payload});case"UPDATE_SEARCH_TERM":return Object(V.a)(Object(V.a)({},e),{},{searchTerm:t.payload});case"UPDATE_UI_MODE":return Object(V.a)(Object(V.a)({},e),{},{backMode:t.payload,styles:t.styles});case"USER_LOGIN":return Object(V.a)(Object(V.a)({},e),{},{isLogged:!0,userProps:t.payload});case"USER_LOGOUT":return Object(V.a)(Object(V.a)({},e),{},{isLogged:!1,userProps:t.payload});default:return e}},M={id:"",name:"",avatarUrl:""};var z=function(e){var t={searchTerm:"",videos:[],styles:{customCard:{backgroundColor:"#fff",fontColor:"#000"},layout:{backgroundColor:"antiquewhite",fontColor:"#000000"}},isLogged:!1,userProps:M},a=Object(r.useReducer)(H,t),n=Object(f.a)(a,2),c=n[0],l=n[1];return o.a.createElement(i.Provider,{value:{videos:c.videos,searchTerm:c.searchTerm,styles:c.styles,isLogged:c.isLogged,userProps:c.userProps,setVideos:function(e){l({payload:e,type:"UPDATE_VIDEOS"})},setSearchTerm:function(e){l({payload:e,type:"UPDATE_SEARCH_TERM"})},toggleStyles:function(e){l({payload:e,type:"UPDATE_UI_MODE",styles:e?{customCard:{backgroundColor:"#1C1C1C",fontColor:"#B9B8B8"},layout:{backgroundColor:"#1C1C1C",fontColor:"#000000"}}:t.styles})},setSession:function(e){l({payload:e,type:"USER_LOGIN"})},logout:function(){l({payload:M,type:"USER_LOGOUT"})}}},e.children)},G=a(20);function J(e,t){Object(r.useEffect)((function(){function a(){return(a=Object(O.a)(y.a.mark((function a(){var n,r,o,c;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n="https://youtube.googleapis.com/youtube/v3/videos?part=snippet&id=".concat(e,"&key=").concat("AIzaSyArEjSu5Db9QwV-KsEhaYuSHFFN9fB1RdA","&type=video"),a.next=3,fetch(n);case 3:return r=a.sent,a.next=6,r.json();case 6:o=a.sent,c=o.items,t(c[0]);case 9:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}),[e])}a(78);var q=a(27),K={get:function(e){try{var t=window.localStorage.getItem(e);return JSON.parse(t)}catch(a){return console.error('Error parsing storage item "'.concat(e,'".')),null}},set:function(e,t){var a=this.get(e),n=[];null!==a?(n=[].concat(Object(q.a)(a),[t]),window.localStorage.setItem(e,JSON.stringify(n))):window.localStorage.setItem(e,JSON.stringify([t]))},find:function(e,t){var a=this.get(e);if(null!==a){var n=a.find((function(e){return e.id.videoId==t}));return void 0==n?null:n}return null},remove:function(e,t){var a=this.get(e);if(null!=a){var n=a.filter((function(e){return e.id.videoId!==t}));window.localStorage.setItem(e,JSON.stringify(n))}}};var Q=function(e){var t=e.isFavorite,a=e.removeFromFavorites,n=e.addToFavorites;return o.a.createElement(o.a.Fragment,null,t?o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:a},"Remove from favorites"):o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:n},"Add to favorites"))},Y=function(e){var t=e.styles,a=e.selectedVideo,n=e.userId,c=e.isLogged,l=e.isPrivateRoute,s=Object(r.useState)(!1),i=Object(f.a)(s,2),u=i[0],d=i[1],m=Object(I.g)();return Object(r.useEffect)((function(){var e=K.find(n,a.id);d(null!==e&&e.favorite)}),[a]),o.a.createElement(o.a.Fragment,null,o.a.createElement(N,{color:t.customCard.fontColor},o.a.createElement(G.b,{to:"/home"},"Home "),o.a.createElement("i",{className:"fa fa-chevron-right","aria-hidden":"true"})," ",a.snippet.title),o.a.createElement("iframe",{width:"100%",height:"500px",title:a.id,src:"https://www.youtube.com/embed/".concat(a.id)}),o.a.createElement(D,{className:"card-div-detail",elementBackground:t.customCard.backgroundColor,height:"150px"},o.a.createElement(U,{fontColor:t.customCard.fontColor},a.snippet.title," ",c?o.a.createElement(Q,{isFavorite:u,removeFromFavorites:function(){K.remove(n,a.id),d(!1),l&&m.push("/favorites")},addToFavorites:function(){K.set(n,Object(V.a)(Object(V.a)({},a),{},{favorite:!u,id:{videoId:a.id}})),d(!0)}}):null),o.a.createElement(N,null,a.snippet.description)))};var W=function(){var e=Object(r.useState)([]),t=Object(f.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(null),l=Object(f.a)(c,2),s=l[0],u=l[1],d=Object(r.useContext)(i),m=d.styles,b=d.userProps,g=d.isLogged,E=function(){var e=Object(I.h)().search;return o.a.useMemo((function(){return new URLSearchParams(e)}),[e])}();return J(E.get("videoId"),u),function(e,t){Object(r.useEffect)((function(){function a(){return(a=Object(O.a)(y.a.mark((function a(){var n,r,o,c,l;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n="https://youtube.googleapis.com/youtube/v3/search?part=snippet&relatedToVideoId=".concat(e,"&type=video&maxResults=25&key=").concat("AIzaSyArEjSu5Db9QwV-KsEhaYuSHFFN9fB1RdA"),a.next=3,fetch(n);case 3:return r=a.sent,a.next=6,r.json();case 6:o=a.sent,c=o.items,l=c.filter((function(e){return void 0!==e.snippet})),t(l);case 10:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}),[e])}(E.get("videoId"),n),o.a.createElement(p.a,null,o.a.createElement(h.a,null,o.a.createElement(v.a,{lg:12,md:12,sm:12,xs:12},null!==s?o.a.createElement(Y,{styles:m,selectedVideo:s,isLogged:g,userId:b.id,isPrivateRoute:!1}):null,o.a.createElement(B,{videos:a,styles:m,userId:b.id}))))};var X=function(){return o.a.createElement("div",{styles:{width:"60%"}},o.a.createElement("h2",null,"No videos added to favorites yet"),o.a.createElement(G.b,{to:"/"},"Start searching for new!"))},Z=function(){var e=Object(r.useState)([]),t=Object(f.a)(e,2),a=t[0],n=t[1],c=Object(r.useContext)(i),l=c.styles,s=c.userProps;return Object(r.useEffect)((function(){try{var e=K.get(s.id);null!==e&&n(e)}catch(t){n([])}}),[]),o.a.createElement(p.a,{style:{paddingBottom:"5%"}},o.a.createElement(v.a,{xs:12,sm:12,md:12},0==a.length?o.a.createElement(X,null):o.a.createElement(B,{videos:a,styles:l,userId:s.id,privateRoute:!0})))};var $=function(){var e=Object(r.useState)([]),t=Object(f.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(null),l=Object(f.a)(c,2),s=l[0],u=l[1],d=Object(r.useContext)(i),m=d.styles,b=d.userProps,g=d.isLogged;return J(function(){var e=Object(I.h)().search;return o.a.useMemo((function(){return new URLSearchParams(e)}),[e])}().get("videoId"),u),Object(r.useEffect)((function(){try{var e=K.get(b.id);null!==e&&n(e)}catch(t){n([])}}),[s]),o.a.createElement(p.a,null,o.a.createElement(h.a,null,o.a.createElement(v.a,{lg:12,md:12,sm:12,xs:12},null!==s?o.a.createElement(Y,{styles:m,selectedVideo:s,isLogged:g,userId:b.id,isPrivateRoute:!0}):null,o.a.createElement(B,{videos:a,styles:m,privateRoute:!0}))))};function ee(e){return Object(r.useContext)(i).isLogged?o.a.createElement(o.a.Fragment,null,e.children):o.a.createElement(o.a.Fragment,null,o.a.createElement(I.a,{to:"home"}))}var te=function(){return o.a.createElement(G.a,null,o.a.createElement(z,null,o.a.createElement(m,null,o.a.createElement(F,null),o.a.createElement(I.d,null,o.a.createElement(I.b,{path:"/home"},o.a.createElement(_,null)),o.a.createElement(I.b,{path:"/play"},o.a.createElement(W,null)),o.a.createElement(I.b,{path:"/favorites"},o.a.createElement(ee,null,o.a.createElement(Z,null))),o.a.createElement(I.b,{path:"/playFavorites"},o.a.createElement(ee,null,o.a.createElement($,null))),o.a.createElement(I.b,{exact:!0,path:"/",render:function(){return o.a.createElement(I.a,{to:"/home"})}})))))};a(79);l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(te,null)),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.194ee7fb.chunk.js.map